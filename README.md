# HTTP

개발자로 근무하면서 정리한 내용에 대한 프로젝트

## 참고 레퍼런스

[Linux]

- [서비스관리 - systemctl](https://fmd1225.tistory.com/93)
- [부팅](https://ssunw.tistory.com/entry/Linux-%EB%B6%80%ED%8A%B8-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%B6%80%ED%8A%B8-%EB%A1%9C%EB%8D%94)
- [폴더구조](https://inpa.tistory.com/entry/LINUX-%F0%9F%93%9A-%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EA%B5%AC%EC%A1%B0)
- [권한](https://danmilife.tistory.com/8#google_vignette)
- [파일복사 - scp](https://studyingazae.tistory.com/289)
- [타임존](https://wildeveloperetrain.tistory.com/249)
- [아이콘](https://reason1241.tistory.com/20)
- [그룹](https://blog.naver.com/haejoon90/220736406478)
- [자동로그인](https://ostechnix.com/ubuntu-automatic-login/)
- [유저생성](https://leftday.tistory.com/92)
- [메모리사용량](https://zetawiki.com/wiki/%EB%A6%AC%EB%88%85%EC%8A%A4_%EB%AA%85%EB%AA%A9%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%82%AC%EC%9A%A9%EB%A5%A0,_%EC%8B%A4%EC%A7%88%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%82%AC%EC%9A%A9%EB%A5%A0#cite_note-1)
- [시리얼권한](https://movehoon.tistory.com/115)
- [그룹에 유저추가](https://syuda.tistory.com/159)
- [스케쥴링 - crontab](https://www.baeldung.com/linux/schedule-script-execution)
- [로그 검색 -journalctl](https://server-talk.tistory.com/459)

[Windows]

- [배치파일 동시 실행](https://blog.naver.com/km3957/221494507192)
- [여러 배치파일 순서대로 실행하는 배치파일 만들기](https://nem0.tistory.com/53)

[Shell]

- [cat <<EOF](https://stackoverflow.com/questions/2500436/how-does-cat-eof-work-in-bash)
- [입출력 재지정 |](https://inpa.tistory.com/entry/LINUX-%F0%9F%93%9A-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EC%9E%AC%EC%A7%80%EC%A0%95-%ED%8C%8C%EC%9D%B4%ED%94%84-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%A0%95%EB%A6%AC)
- [/dev/null 2>&1](https://inpa.tistory.com/entry/%EB%A6%AC%EB%88%85%EC%8A%A4-devnull-%EB%A6%AC%EB%8B%A4%EC%9D%B4%EB%A0%89%EC%85%98-%EA%B8%B0%ED%98%B8-%EC%A2%85%EB%A5%98)
- [Date](https://inpa.tistory.com/entry/LINUX-%F0%9F%93%9A-Date-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%82%AC%EC%9A%A9%EB%B2%95-%EC%99%84%EB%B2%BD-%EC%B4%9D%EC%A0%95%EB%A6%AC-%ED%8F%AC%EB%A7%B7)
- [특수변수 - $?](https://sa2da-sac.tistory.com/18)
- [이름변경 - rename](https://biology-statistics-programming.tistory.com/117)
- [if - else](https://ko.linux-console.net/?p=5874)
- [매개변수 순회 - for arg in $\*](https://seorenn.tistory.com/595)

[curl]

- [응답시간 체크](https://webruden.tistory.com/874)
- [POST Method](https://catonmat.net/cookbooks/curl/make-post-request)

[network]

- [패킷 제어 - iptables](https://linuxstory1.tistory.com/entry/iptables-%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%B0%8F-%EC%98%B5%EC%85%98-%EB%AA%85%EB%A0%B9%EC%96%B4)
- [3-Way / 4-Way Handshake](https://bangu4.tistory.com/74)
- [DNS](https://blog.naver.com/happy_jhyo/222668305324)
- [Static IP](https://tigercoin.tistory.com/63)
- [NAT](https://aws-hyoh.tistory.com/m/145)
- [패킷 분석 - tcpdump](https://run-it.tistory.com/48)
- [Multicast](https://blog.naver.com/on21life/221415820802)
- [TCP Flag](https://ohcodingdiary.tistory.com/12)
- [ARP](https://aws-hyoh.tistory.com/70)
- [Who responds to ARP requests?](https://www.quora.com/Who-responds-to-ARP-requests)
- [RARP](https://velog.io/@hayeon/ARP%EC%99%80-RARP-protocol-%EC%B0%A8%EC%9D%B4%EC%A0%90)
- [HTTP/1.1](https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-HTTP-09-HTTP-30-%EA%B9%8C%EC%A7%80-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%ED%86%B5%EC%8B%A0-%EA%B8%B0%EC%88%A0)

[Security]

- [OSI 7 Layer - Helmet](https://inpa.tistory.com/entry/NODE-%EB%B3%B4%EC%95%88-%F0%9F%93%9A-helmet-%EB%AA%A8%EB%93%88-%EC%82%AC%EC%9A%A9%EB%B2%95-%EC%9B%B9-%EB%B3%B4%EC%95%88%EC%9D%80-%EB%82%B4%EA%B0%80-%F0%9F%91%AE)

- [Sniffing](https://m.blog.naver.com/wnrjsxo/221115871221)

- [mDNS](https://www.ciokorea.com/news/24709)

[Backend]

- [3-Tier Architecture](https://www.stevenjlee.net/2020/05/08/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-3%EA%B3%84%EC%B8%B5-%EA%B5%AC%EC%A1%B0-3-tier-architecture/)
- [견고한 프로젝트 설계](https://charming-kyu.tistory.com/16)
- [상태코드](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_server_errors)
- [WebSocket](https://inpa.tistory.com/entry/SOCKET-%F0%9F%93%9A-WS-%EC%9B%B9%EC%86%8C%EC%BC%93-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0)
- [Monitoring](https://grafana.com/)
- [Fetch 진행률](https://jeonghwan-kim.github.io/2023/12/31/fetch-progress)
- [REST API](https://www.ibm.com/kr-ko/topics/rest-apis)
- [Transaction](https://tlqckd0.tistory.com/53)
- [Typescript + Node Intellisense Tip](https://stackoverflow.com/questions/37377731/extend-express-request-object-using-typescript?page=1&tab=scoredesc#tab-top)
- [CORS](https://medium.com/@hubian/nginx-easily-solves-cross-domain-issues-009b95a5185e)
- [Proxy Hide Header](https://serverfault.com/questions/928912/how-do-i-remove-a-server-added-header-from-proxied-location)
- [도커 컨테이너 -> 로컬호스트](https://kimjingo.tistory.com/239)

[DB]

- [B+Tree](https://product.kyobobook.co.kr/detail/S000200383533)
- [ORM](https://gmlwjd9405.github.io/2019/02/01/orm.html#google_vignette)
- [칼럼 변경 명령어](https://jadunara.tistory.com/159)
- [PK, Unique 지정](https://velog.io/@inhwa1025/MySQL-PRIMARY-KEY-UNIQUE-KEY-%EC%A7%80%EC%A0%95)
- [uuid](https://blogs.oracle.com/mysql/post/mysql-uuids)
- [uuid](https://velog.io/@wndbsgkr/MySQL%EC%97%90%EC%84%A0-UUID%EB%A5%BC-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A3%A0)
- [uuid](https://www.uuidtools.com/uuid-versions-explained)
- [uuid 문제점](https://planetscale.com/blog/the-problem-with-using-a-uuid-primary-key-in-mysql#uuidv4)
- [uuid 해외 의견](https://www.reddit.com/r/mysql/comments/vgnyww/uuid_as_primary_key/)
- [npm uuid](https://www.npmjs.com/package/uuid)
- [모델링](https://yeongunheo.tistory.com/entry/DB-%EC%84%A4%EA%B3%84%ED%95%98%EB%8A%94-%EB%B2%95-feat-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81)
- [서브쿼리](https://inpa.tistory.com/entry/MYSQL-%F0%9F%93%9A-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC-%EC%A0%95%EB%A6%AC)
- [날짜타입 datetime](https://stackoverflow.com/questions/409286/should-i-use-the-datetime-or-timestamp-data-type-in-mysql)
- [엔터티 분류](https://anodos.tistory.com/entry/4-%EC%97%94%ED%84%B0%ED%8B%B0%EC%9D%98-%EB%B6%84%EB%A5%98)
- [백업](https://steady-snail.tistory.com/154)

[Frontend]

- [iframe](https://www.techtarget.com/whatis/definition/IFrame-Inline-Frame)
- [localStorage](https://eomtttttt-develop.tistory.com/204)
- [Electron](https://tech.kakao.com/posts/453)
- [특정 영역 외 클릭](https://velog.io/@sa833591/%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%9C%84%EC%9E%84-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B2%84%EB%B8%94%EB%A7%81-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%BA%A1%EC%B2%98-%EB%93%B1)
- [DOMContentLoaded, load, beforeunload, unload](https://ko.javascript.info/onload-ondomcontentloaded)
- [textContent](https://developer.mozilla.org/ko/docs/Web/API/Node/textContent)
- [insertAdjacentHTML](https://developer.mozilla.org/ko/docs/Web/API/Element/insertAdjacentHTML)
- [시맨틱 태그](https://seo.tbwakorea.com/blog/what-is-semantic-tag/)
- [테이블 태그를 사용하지 않는 이유](https://www.youtube.com/watch?v=T7h8O7dpJIg&t=212s)
- [aria-label](https://velog.io/@a_in/WAI-ARIA-role-aria-label)
- [코도바](https://voidfunction-e.tistory.com/entry/%EC%9C%88%EB%8F%84%EC%9A%B0%EC%97%90-cordova-%EC%84%A4%EC%B9%98-%EC%8B%A4%ED%96%89)
- [tBody 스크롤](http://sejin7940.co.kr/xe_tips/152391)
- [chartjs](https://itwithruilan.tistory.com/77)

[Git]

- [커밋 메시지 규칙](https://velog.io/@chojs28/Git-%EC%BB%A4%EB%B0%8B-%EB%A9%94%EC%8B%9C%EC%A7%80-%EA%B7%9C%EC%B9%99)
- [캐시 삭제](https://tychejin.tistory.com/231)
- [커밋 시점 이동](https://velog.io/@janeljs/git-2)
- [원격 브랜치 가져오기](https://cjh5414.github.io/get-git-remote-branch/)
- [병합](https://medium.com/depayse/git-github-git-%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B44-merge-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%B3%91%ED%95%A9%ED%95%98%EA%B8%B0-e6150f1d3f82)

[Node]

- [Object.defineProperty](https://blog.woolta.com/categories/3/posts/143)
- [비트 연산](https://velog.io/@kangyul/JS-%EB%B9%84%ED%8A%B8-%EC%97%B0%EC%82%B0%EC%9E%90)
- [event-loop](https://dkrnfls.tistory.com/362)
- [event-loop](https://www.youtube.com/watch?v=8aGhZQkoFbQ&t=192s)
- [SOLID](https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5-%EC%84%A4%EA%B3%84%EC%9D%98-5%EA%B0%80%EC%A7%80-%EC%9B%90%EC%B9%99-SOLID)
- [Circular Queue](https://www.geeksforgeeks.org/introduction-to-circular-queue/)
- [Nullish - ??](https://javascript.info/nullish-coalescing-operator)
- [Prototype](https://www.nextree.co.kr/p7323/amp/)

[CodingTest]

- [현황](https://www.acmicpc.net/user/ymh3190)

## 아키텍처 구조(AWS EC2 + Docker)

    1. 아키텍처 구조: client <-> nginx <-> frontend
                                    <-> backend <-> db

## REST API를 위한 데이터베이스 설계 원칙

- PK, FK 설계: https://www.youtube.com/watch?v=B5r8CcTUs5Y / https://www.youtube.com/watch?v=tN6oJu2DqCM&t=491s 4:55
  - PK: auto_increment, bigint: 2^64, int: 2^32
  - FK: table_id
  - Composite PK: Unique(column, column2, ...)로 고유성을 보장
- auto_increment 이점: https://www.quora.com/What-are-the-advantages-of-using-an-auto-increment-column-as-a-primary-key-in-MySQL
  - 고유성, 단순성, 효율성, 데이터 무결성, 인덱싱
  - 데이터베이스 관리 단순화 및 성능 개선 및 데이터 무결성 향상
- 비정규화
  - reference: https://www.youtube.com/watch?v=V27XkmVPqYQ 5:20
  - 테이블 join시 성능 저하 이슈를 해결하기 위한 것
- url
  - ex) ?sort=-id&limit=1
  - ex) ?filter=color:blue

## REST API

- reference:

  - https://aws.amazon.com/what-is/restful-api
  - https://www.youtube.com/watch?v=-mN3VyJuCjM
  - https://docs.tosspayments.com/blog/what-is-idempotency

- AWS의 REST API개념 설명을 가져왔습니다.

      1. REST API란? 두 컴퓨터가 통신하는 표준

      2. API란? 서로 다른 두 컴퓨터가 서로에게 얘기하는 방법

      3. REST란? API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처

        - API 개발자는 여러 아키텍처를 사용하여 API를 설계할 수 있습니다. REST 아키텍처 스타일을 따르는 API를 REST API라고 합니다. REST 아키텍처를 구현하는 웹 서비스를 RESTful 웹 서비스라고 합니다. RESTful API라는 용어는 일반적으로 RESTful 웹 API를 나타냅니다. 하지만 REST API와 RESTful API라는 용어는 같은 의미로 사용할 수 있습니다.

        - REST API를 따르는 실 서비스: Stripe, Google Maps

      3-1. Uniform interface(균일한 인터페이스) - 요청은 리소스를 식별해야 한다. 이를 위해 균일한 리소스 식별자(URI)를 사용한다. - https://example.com/api/v3/products -> Product database, Create, Read products - https://example.com/api/v3/products/:id -> Read, Update, Delete product - https://example.com/api/v3/users -> User database

        - 명사를 사용한다. https://example.com/api/v3/getAllProducts -> 잘못된 사용

        - POST Method: Create new a resource
        - GET Method: Read the data about an existing resource
        - PUT(Patch) Method: Update an existing resource
        - DELETE Method: Remove an existing resource

        - 응답에 상태 코드를 포함한다.
        - OK: 200, 201, 304, 301, 302, 307, 308
        - Client Side Error: 400, 401, 403, 404
        - Server Side Error: 500

        - when an api is idempotent, making multiple identical requests has the same effect as making a single request.
        - api가 멱등하다는 것은 작업 결과가 한 번 수행하든 여러 번 수행하든 결과가 같다는 것
        - POST, PATCH: not idempotent
        - GET, PUT, DELETE: idempotent

        - pagination scheme: limit, offset -> /products?limit=25&offset=50

        - Versioning -> v1, v2

        - REST API가 항상 좋으냐? 그건 아니고 GraphQL, gRPC와 같은 아키텍처가 있다.

      3-2. Stateless(무상태) - 클라이언트와 서버가 세션 상태 정보를 저장하지 않는다는 것. 모든 요청과 응답의 사이클은 독립적이다. 이로 인해 웹 애플리케이션의 스케일 조정을 쉽게 하고 잘 동작하게 됐다.

      3-3. Layered system(계층화 시스템) - 레이어 분리

      3-4. Cacheability(캐시 가능성) - Server Side: 응답 헤더 ETag - Client Side: 요청 헤더 If-None-Match

      4. 사용하는 이유

        - 서비스 크기에 따른 확장성
        - 클라이언트-서버 분리에 따른 유연성
        - 프로그래밍 언어에 따른 독립성

## Middleware

- reference: https://aws.amazon.com/ko/what-is/middleware/

      - 개념: 미들웨어는 서로 다른 애플리케이션이 서로 통신하는 데 사용되는 소프트웨어입니다. 미들웨어는 더욱 빠르게 혁신할 수 있도록 애플리케이션을 지능적이고 효율적으로 연결하는 기능을 제공합니다. 미들웨어는 단일 시스템에 원활하게 통합할 수 있도록 다양한 기술, 도구, 데이터베이스 간에 다리 역할을 합니다. 그런 다음 이 단일 시스템은 사용자에게 통합된 서비스를 제공합니다. 예를 들어 Windows 프런트엔드 애플리케이션은 Linux 백엔드 서버에서 데이터를 송수신하지만, 애플리케이션 사용자는 그 차이를 인식하지 못합니다.

      - 사용 사례

        - 게임 개발: 게임 엔진
        - 전자: 다양한 유형의 센서를 메시징 프레임워크를 통해 컨트롤러와 통신

## CI / CD

    - Continuous Integration / Continuous Delivery, Deployment

    - 개념: 애플리케이션 개발 단계부터 배포 때까지 이 모든 단계들을 자동화를 통해서 조금 더 효율적이고 빠르게 사용자에게 빈번이 배포할 수 있도록 만드는 것을 말함

    - 사용 하는 이유
      빈번한 배포로 머지 주기를 짧게하여 충돌 문제를 덜 겪고, 문제시 해결 시간 단축의 장점
      자동 빌드, 테스트를 거쳐 수동 배포(Delivery) 혹은 자동 배포(Deployment)

    - 도구
      - jenkins, buildkite, github actions, gitlab ci/cd, bitbucket pipelines, circleci

    - reference: https://www.youtube.com/watch?v=sIPU_VkrguI
      - 마틴 파울러가 제시하는 CI의 4가지 규칙
        - 모든 소스코드가 살아 있고 누구든 현재의 소스에 접근할 수 있는 단일 지점을 유지할 것
        - 빌드 프로세스를 자동화해서 누구든 소스로부터 시스템을 빌드할 수 있게 할 것
        - 테스팅을 자동화해서 언제든지 시스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것
        - 누구든 현재 실행 파일을 얻으면 지금까지 가장 완전한 실행 파일을 얻었다는 확신을 하게 할 것

      - 무중단 배포 구현 방법
        - AWS에서 Blue-Green 무중단 배포
        - 도커를 이용한 무중단 배포
        - L4, L7 스위치를 이용한 무중단 배포
        - Nginx를 이용한 무중단 배포
          - Rolling 배포: 서버를 차례대로 업데이트 시키는 방식
            - 장점: 인스턴스를 추가하지 않아도 되는 점
            - 단점: 트래픽 쏠림, 구버전과 신버전의 공존으로 인한 호환성 문제
          - Canary 배포: 신버전을 소수의 사용자에게만 배포
            - 장점: 문제 상황을 빠르게 감지
            - 단점: 모니터링 관리 비용, 구버전과 신버전의 공존으로 인한 호환성 문제
          - Blue / Green 배포
            - Blue: 구버전, Green: 신버전
            - 구버전과 동일하게 신버전의 인스턴스를 구성
            - 신버전 배포 시 로드 밸런서를 통해 신버전으로만 트래픽을 전환
            - 장점: 빠른 배포 속도, 롤백 가능
            - 단점: 시스템 자원이 2배로 필요

## NGINX

- references: https://www.youtube.com/watch?v=9t9Mp0BGnyI

      - 리버스 프록시, 로드 밸런스, 캐싱을 위한 오픈 소스 웹 서버
      - encryption, decryption

      - directive:
        - key-value pair

      - context(block):
        - http {
          include mime.types;
        }

        - location:
          - path
          - html
          - proxy_pass

        - upstream ws {
          server 127.0.0.1:3000;
          server 127.0.0.1:3001;
          server 127.0.0.1:3002;
        }

        - upstream was {
          server 127.0.0.1:4000;
          server 127.0.0.1:4001;
          server 127.0.0.1:4002;
        }

        server {
          listen 8080;

          location / {
            proxy_pass http://ws/;
          }
        }

        server {
          listen 9090;

          location /api {
            proxy_pass http://was/;
          }

        }

      - command:
        - nginx -s reload|stop|quit|reopen: send signal to a master process
        - nginx -t: test configuration
        - nginx -T: test configuration && show configuration

## Docker

    - EC2
      - db, backend, frontend: 도커 컨테이너 실행 시 메모리 720M
      - db, backend, frontend: systemd 실행 시 메모리 590M

    - command:
      - docker build -f Dockerfile -t fun-docker .
        - .: build context, Dockerfile 위치
        - -f: Dockerfile 이름 명시, Dockerfile이면 생략 가능
        - -t: 이미지 이름 부여, 깃헙 리파지토리와 동일. 컨테이너 레지스트리에 푸시할 때 재사용됨

      - docker build -t webserver .

      - docker images: 로컬PC에서 만든 이미지를 확인

      - docker run -d -p 3000:3000 fun-docker
        - -d: detached, 백그라운드 실행을 의미
        - -p: port 지정, 호스트:컨테이너

      - docker run -it --rm -d -p 8000:80 --name web webserver

      - docker ps: 현재 구동중인 컨테이너 리스트

      - docker logs container_id
        - ex) docker logs f22c0f33b3c3

      - docker tag fun-docker:latest ymh3190/docker-example:latest
        - 도커허브에 이미지를 푸시하기 위해서는 docker images의 REPOSITORY이 동일해야한다
        - 그렇기 때문에 docker tag 명령어를 실행해서 리파지토리와 동일한 이름의 이미지를 생성한다.

      - docker login

      - docker push ymh3190/docker-example:fun-docker:latest

      - docker run -it --rm -d -p 8000:80 --name website nginx
        - -it: instruct docker to allocate a pseudo tty conneciton or allow us to have an interactive bash

        - --rm: clean up the containers and remove the file system if the container exists already

      - docker exec -it container_id bash || docker exec -it container_name bash
        - 해당 컨테이너 쉘모드 진입

      - docker top container_id || docker top container_name
        - 해당 컨테이너 사용중인 프로세스 확인

      - service nginx start|stop
        - 해당 컨테이너 쉘모드에서 nginx 시작|정지

      - custom nginx image
        - docker-compose
          - docker-compose up: yml파일을 읽어 컨테이너 실행
          - docker-compose up -d: yml파일을 읽어 데몬으로 컨테이너 실행
          - docker-compose down: stop and remove containers, networks

## AWS

    - ec2 docker compose 배포
    - 1. 로컬PC에서 image를 빌드하고(db, back, front) 각각 dockerHub에 올리고
    - 2. docker-compose.ym에서 해당 이미지를 다운받아서 컨데이너 빌드 및 실행

## VS Code 디버깅

    - 디버그 모드 실행: 서버 환경에서 디버깅을 위해서 launch.json 파일 생성을 클릭하고 Node.js를 선택합니다

    - 왼쪽 위 실행 프로그램을 선택하는 부분에서 Node.js를 선택 후 실행할 스크립트를 클릭합니다

## MySQL ORM

- 데이터베이스(입력)에 대한 일반화
  https://github.com/ymh3190/http/blob/main/backend/src/db.js

  - sequelize 및 typeORM과 비교하기

- crypto.randomUUID() 사용할 경우(UUID v4)

  - insert 성능 이슈(MySQL RDBMS: B+Tree)
  - reference: https://planetscale.com/blog/the-problem-with-using-a-uuid-primary-key-in-mysql#uuidv4

## Linux

- iptables

  - 패킷 제어 스크립트

        pc 3대(90, 39, 140)에서 90번 피시가 39번 피시에게 request를 하지만 39번 피시는 패킷을 140으로 포워드 후 90에게 전달

        #/bin/bash

        iptables -t nat -A PREROUTING -p tcp --dport 8082 -j DNAT --to-destination 192.168.0.39
        iptables -t nat -A POSTROUTING -o eno1 -s 192.168.0.0/24 -j SNAT --to-source 192.168.0.140

        sysctl -w net.ipv4.ip_forward=1

- shell script

  - request with cookies

        #/bin/bash

        ls dataset/cookies > /dev/null 2>&1
        if [ $? = 1 ]
        then
        curl -i -d '{"username": "admin", "password": "1"}' \
        -H 'Content-Type: application/json' \
        192.168.0.90:8081/api/v1/auth/signin \
        | grep -i set-cookie > data/cookies 2> /dev/null
        fi
        curl -s -o /dev/null -w %{time_total}\\n -b data/cookies 192.168.0.90:8081/

  - mysqldump

        #!/bin/bash

        DATE=`date +%Y%m%d`
        mysqldump -uroot -ppassword db > db_${DATE}.sql
        scp db_${DATE}.sql 'user'@'192.168.0.100':/volume1/db_backup
        rm db_${DATE}.sql

        #procedure
        mysqldump --routines --no-create-info --no-data --no-create-db --skip-opt -uroot -ppassword db > routine_${DATE}.sql
        scp routine_${DATE}.sql 'user'@'192.168.0.100':/volume1/db_backup/routines
        rm routine_${DATE}.sql

- systemctl, journalctl

  - 데몬: systemctl
  - 로그: journalctl

- touch

  - touch file_name{1..10}
  - file_name, file_name1, file_name2, ... , file_name10

  - touch -d tommorow file_name
  - 파일 생성 예약

- shred: 파일을 안전하게 지우는 방법. 임의의 데이터로 덮어씌움

- useradd user_name -> create user
- adduser user_name -> reverse useradd

- su user_name: swtich user, 종료는 exit
- passwd user_name: change password

- whatis command: 명령어 설명
- which command: command binary path
- whereis command

- less: 한 페이지씩 cat

- cmp file_a file_b: 두 파일 내용 비교. 라인 표시
- diff file_a file_b: 정확히 어떤 부분이 다른지 비교

- sort: ex) cat file_name | sort

- find

  - find / -name file_name: 해당 경로에 있는 파일이 있는지 확인
  - find . -type f -name ".\*": 숨겨진 파일 찾기
  - find . -type f -empty: 숨겨진 디렉토리 찾기
  - find . -perm /a=x: 숨겨진 실행 파일 찾기

- awk '{print $1}'

- resolvectl status

  - /etc/resolv.conf

- ping -c 5 -s 500 ip

  - -c: count
  - -s: size

- traceroute ip
- netstat -tulpn
- uname -a
- free
- df -H
- ps -aux
- top: process
- htop: process pretty

- cron

  - 스케줄링: crontab

## Windows

- batch script

  - auto-commit

        @echo off

        cd %userprofile%\Desktop\generics && ^
        git add . && ^
        set /p comment=input comment:
        git commit -m %comment% && ^
        git push origin main

  - auto-run

        @echo off

        set desktopPath=%userprofile%\Desktop
        set batsPath=%desktopPath%\bats
        set genericsPath=%desktopPath%\generics
        set frontendPath=%genericsPath%\frontend
        set backendPath=%genericsPath%\backend

        start "back" %batsPath%\back.bat
        start "front" %batsPath%\front.bat
        start "dist" %batsPath%\dist.bat

## DOM Tree

- DOM 객체에 접근하는 것을 자동으로 할 수 없을까?, 다른 프로젝트에서도 사용하고 싶은데?
  https://github.com/ymh3190/http/blob/main/frontend/src/dom-sync.js

## WebSocket

- observer design pattern
- alarm

## Status Code

- 204:
  - No Content, ex) save and continue editing, ex) put, delete
  - reference: https://stackoverflow.com/questions/2342579/http-status-code-for-update-and-delete
- 206
- 304
- 리다이렉트:
  - 301과 302는 리다이렉트할 때 GET Method로 변경해서 전송. 301대신에 308, 302대신에 307을 쓰면 더 안전
  - 301: Moved Permanently
  - 302: Found
  - 307: Temperary Redirect
  - 308: Permanent Redirect

## Origin/path?param

- % 전송 인코딩 문제

  - % -> %25
  - The encodeURI() function escapes characters by UTF-8 code units, with each octet encoded in the format %XX, left-padded with 0 if necessary.
  - encodeURI와 encodeURIComponent 차이
  - 레퍼런스: https://codingeverybody.kr/자바스크립트-인코딩-함수-비교/

## CORS

- references: https://serverfault.com/questions/928912/how-do-i-remove-a-server-added-header-from-proxied-location
- references: https://medium.com/@hubian/nginx-easily-solves-cross-domain-issues-009b95a5185e
